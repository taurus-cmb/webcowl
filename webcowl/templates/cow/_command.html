{# Template for the cow command fragment. Not a standalone temlate #}

<div id="cow-command-view">
<nav>
    <ul class="breadcrumb_list">
    {% set home_route = url_for("cow.set_command", cmd_path="") %}
    <li class="cow_home"><button class="cow_command breadcrumb" data-on-click="@post('{{ home_route }}')">Home</button></li>
    {% for breadcrumb, path in breadcrumbs %}
        {% set breadcrumb_route = url_for("cow.set_command", cmd_path=path) %}
        <li><button class="cow_command breadcrumb" data-on-click="@post('{{ breadcrumb_route }}')">{{ breadcrumb }}</button></li>
    {% endfor %}
    </ul>
</nav>

{% if messages|length > 0 %}
<h2>Messages</h2>
<ul class="message_list">
    {% for message in messages %}
        <li>
            {# TODO use meta name for display, if present #}
            {% set message_route = url_for("cow.set_command", cmd_path=message.full_path) %}
            <button class="cow_command" data-on-click="@post('{{ message_route }}')">{{ message.name }}</button>
        </li>
    {% endfor %}
</ul>
{% endif %}

{% if fields|length > 0 %}
<h2>Fields</h2>
<ul>
    {% for field in fields %}
        <li>{{field}}</li>
    {% endfor %}
</ul>
{% endif %}

</div>
